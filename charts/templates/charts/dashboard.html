{% extends 'main.html' %}

{% block content %}

<div style="position: fixed; left: 0; width: 20vw; height:100vh; background-color: rgb(249, 247, 247);">
    <nav>
        <div>
            <h5>Pivot Table</h5>
            <hr>
            {% if datafiles.count > 0 %}
            <a title="Pivot table" href="" hx-get="{% url 'charts:pivot-table' pk %}" hx-target="#multipurpose"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="IconChangeColor" height="50" width="50"><path d="M10 8h11V5c0-1.1-.9-2-2-2h-9v5zM3 8h5V3H5c-1.1 0-2 .9-2 2v3zm2 13h3V10H3v9c0 1.1.9 2 2 2zm8 1l-4-4 4-4zm1-9l4-4 4 4z" id="mainIconPathAttribute"></path><path d="M14.58 19H13v-2h1.58c1.33 0 2.42-1.08 2.42-2.42V13h2v1.58c0 2.44-1.98 4.42-4.42 4.42z" id="mainIconPathAttribute"></path></svg></a>
            {% endif %}  
            <h5 class="mt-2">Charts</h5>
            <hr>
            <div>
                {% if datafiles.count > 0 %}
                <a title="bar" href="" hx-get="{% url 'charts:create-chart' pk=pk pk2='bar' %}" hx-target="#chart-list" hx-swap="beforeend"><svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="currentColor" class="bi bi-bar-chart-line-fill" viewBox="0 0 16 16" id="IconChangeColor"> <path d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2z" id="mainIconPathAttribute"></path> </svg></a>  


                <a title="line" href="" hx-get="{% url 'charts:create-chart' pk=pk pk2='line' %}" hx-target="#chart-list" hx-swap="beforeend"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256" id="IconChangeColor" height="50" width="50"><rect width="256" height="256" fill="none"></rect><polyline points="224 208 32 208 32 48" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline><polyline points="224 96 160 152 96 104 32 160" fill="none" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="24"></polyline></svg></a>


                <a title = "pie" href="" hx-get="{% url 'charts:create-chart' pk=pk pk2='pie' %}" hx-target="#chart-list" hx-swap="beforeend"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512" id="IconChangeColor" height="50" width="50"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 16.58C304 7.555 310.1 0 320 0C443.7 0 544 100.3 544 224C544 233 536.4 240 527.4 240H304V16.58zM32 272C32 150.7 122.1 50.34 238.1 34.25C248.2 32.99 256 40.36 256 49.61V288L412.5 444.5C419.2 451.2 418.7 462.2 411 467.7C371.8 495.6 323.8 512 272 512C139.5 512 32 404.6 32 272zM558.4 288C567.6 288 575 295.8 573.8 305C566.1 360.9 539.1 410.6 499.9 447.3C493.9 452.1 484.5 452.5 478.7 446.7L320 288H558.4z" id="mainIconPathAttribute"></path></svg></a>
                   
                <a title = "doughnut" href="" hx-get="{% url 'charts:create-chart' pk=pk pk2='doughnut' %}" hx-target="#chart-list" hx-swap="beforeend"><svg width="50" height="50" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg" id="IconChangeColor"> <path d="M0 7.49996C0 3.52583 3.09098 0.27365 7 0.0163574V4.0354C5.30385 4.27801 4 5.73672 4 7.49996C4 9.43295 5.567 11 7.5 11C8.28618 11 9.01181 10.7407 9.5961 10.3031L12.438 13.1451C11.1188 14.3 9.39113 15 7.5 15C3.35786 15 0 11.6421 0 7.49996Z" fill="black" id="mainIconPathAttribute"></path> <path d="M13.1451 12.438C14.3001 11.1187 15 9.39107 15 7.49996C15 6.46644 14.7909 5.48175 14.4128 4.58586L10.7552 6.21147C10.9132 6.61024 11 7.04496 11 7.49996C11 8.28611 10.7408 9.01174 10.3032 9.59602L13.1451 12.438Z" fill="black" id="mainIconPathAttribute"></path> <path d="M8 4.0354V0.0163574C10.5416 0.183645 12.7373 1.61699 13.9626 3.69166L10.2541 5.33986C9.71063 4.64791 8.91203 4.16585 8 4.0354Z" fill="black" id="mainIconPathAttribute"></path> </svg></a>
                {% endif %}
            </div>
            <h5 class="mt-2">datalist</h5>
            <ul>
                {% for datafile in datafiles %}
                <li><a href="" hx-get="{% url 'charts:dataframe' datafile.id %}" hx-target="#multipurpose">{{datafile|cut:"data_files/"}}</a></li>
                {% endfor %}
            </ul>
        </div>
    </nav>

</div>

<main style="margin-left: 20vw" class="pe-3 ps-2">
    <div class="d-flex justify-content-between flex-wrap align-items-center pt3 pb-2 mb-3 border-bottom">
        <div id="title">
            <div hx-get="{% url 'charts:update-title' dashboard.id %}" hx-target="this" hx-swap="outerHTML">
                <h1>{{dashboard.title}}</h1> 
            </div>
             
        </div>
        <div>
            <button type="button" class="btn btn-sm btn-outline-secondary" hx-get="{% url 'charts:upload' pk %}" hx-target="#multipurpose">ADD DATA</button>
            
        </div>
    </div>
    
   
      

    <div id="upload">

    </div>
    <div id="chart-list" class="d-flex flex-row flex-wrap">
        {% for fig in fig_lists %}
        <div>
            {{fig|safe}}
        </div>
        {% endfor %}
    </div>
</main>

<div id="multipurpose">
  
</div>
{% endblock content %}